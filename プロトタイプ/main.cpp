#include <iostream>
#include "DxLib.h"
#include "Mouse.h"

int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow)
{
	// 画面サイズの変更
	SetWindowSize(1280, 720);
	SetGraphMode(1280, 720, 16);

	// ウィンドウモード変更と初期化と裏画面設定
	ChangeWindowMode(TRUE), DxLib_Init(), SetDrawScreen(DX_SCREEN_BACK); 
	
	/*************************************************

　		実体宣言を行う

	*************************************************/


	// ループ
	while ((ScreenFlip() == 0 && ProcessMessage() == 0 && ClearDrawScreen() == 0) && CheckHitKey(KEY_INPUT_ESCAPE) == 0) {

		// escを押すと終了

		/*************************************************

		　UpdateやDrawなどの毎回呼び出すものを記述する

		*************************************************/

#pragma region Mouse
		cMouse::Instance()->Update();
#ifdef MOUSE_DEBUG
		DrawFormatString(0, 0, GetColor(255, 255, 255), "%d,%d",
			cMouse::Instance()->GetX(),
			cMouse::Instance()->GetY()
		);
		DrawFormatString(0, 20, GetColor(255, 255, 255), "%d %d",
			cMouse::Instance()->GetPressCnt(cMouse::LEFT_CLICK),
			cMouse::Instance()->GetPressCnt(cMouse::RIGHT_CLICK)
		);
#endif // DEBUG
#pragma endregion


	}

	// 終了
	DxLib_End();
	return 0;
}


// キーボードの呼び出し
// CheckHitKey( );
// ()の中にKEY_INPUT_○○と記入する
// ○○に大文字のアルファベットなどを記述
// 例) if(CheckHitKey(KEY_INPUT_W) == 1)  // wが押されたら
// 例) if(CheckHitKey(KEY_INPUT_W) >= 1)  // wが押されているなら
// URL : https://dxlib.xsrv.jp/function/dxfunc_input.html#R5N2

// マウスの呼び出し
// GetcMouseInput();
// 変数 = GetcMouseInput();	// マウスの入力を取得
// 例) if(変数 & cMouse_INPUT_LEFT ) == 1)	// 左クリックされたら
// URL : https://dxlib.xsrv.jp/function/dxfunc_input.html#R5N8

